<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--  æ ‡é¢˜è‡ªå·±æ”¹  -->
    <title>To: æŸæŸæŸ - ç”Ÿæ—¥å¿«ä¹</title>
    <style>
        /* å¼•å…¥è¡¬çº¿å­—ä½“ å’Œ ç­‰å®½æ•°å­—å­—ä½“ */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;500;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap');

        :root {
            --bg-deep: #050510;
            --primary: #a29bfe;
            --secondary: #74b9ff;
            --accent: #ff7675;
            --gold: #ffeaa7;
            --glass: rgba(255, 255, 255, 0.08);
            --border: rgba(255, 255, 255, 0.12);
        }

        * {
            margin: 0; padding: 0; box-sizing: border-box;
            font-family: 'Noto Serif SC', "Microsoft YaHei", serif;
            user-select: none; -webkit-user-drag: none;
        }

        body {
            background-color: var(--bg-deep); color: #fff;
            height: 100vh; width: 100vw; overflow: hidden;
            display: flex; justify-content: center; align-items: center;
            perspective: 1000px;
        }

        /* --- 1. 3Dè§†å·®æ˜Ÿç©º --- */
        #universe { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: radial-gradient(ellipse at bottom, #1B2735 0%, #090A0F 100%); }
        .star-layer { position: absolute; top: -5%; left: -5%; width: 110%; height: 110%; transition: transform 0.1s linear; }
        .star { position: absolute; background: white; border-radius: 50%; animation: twinkle var(--duration) ease-in-out infinite alternate; }
        @keyframes twinkle { 0% { opacity: 0.3; transform: scale(0.8); } 100% { opacity: 1; transform: scale(1.2); box-shadow: 0 0 5px white; } }
        #meteors { position: absolute; width: 100%; height: 100%; }
        .shooting-star { position: absolute; width: 120px; height: 2px; background: linear-gradient(90deg, white, transparent); transform: rotate(-45deg); opacity: 0; animation: shoot 3s infinite ease-in-out; }
        @keyframes shoot { 0% { left: 100%; top: 0%; opacity: 1; } 15% { left: 0%; top: 100%; opacity: 0; } 100% { opacity: 0; } }

        /* --- 2. ç•Œé¢å®¹å™¨ä¸è½¬åœº --- */
        .stage {
            position: absolute; width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; transform: scale(1.1); filter: blur(15px); pointer-events: none;
            transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        .stage.active { opacity: 1; transform: scale(1); filter: blur(0); pointer-events: all; }

        /* ç»ç’ƒå¡ç‰‡ */
        .glass-panel {
            background: var(--glass); backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            border: 1px solid var(--border); border-radius: 30px; padding: 50px 60px;
            width: 90%; max-width: 600px; text-align: center;
            box-shadow: 0 30px 60px -12px rgba(0, 0, 0, 0.5); transform: translateZ(0);
        }

        h2 { font-size: 2.2rem; font-weight: 300; margin-bottom: 15px; letter-spacing: 2px; text-shadow: 0 0 20px rgba(162,155,254,0.3); }
        .subtitle { color: var(--secondary); font-size: 0.9rem; margin-bottom: 25px; letter-spacing: 2px; text-transform: uppercase; font-weight: bold; opacity: 0.8; }

        /* é€šç”¨å…ƒç´  */
        .input-box { margin-bottom: 20px; text-align: left; }
        .input-box label { display: block; color: var(--primary); margin-bottom: 8px; font-size: 0.9rem; margin-left: 5px; }
        input { width: 100%; padding: 16px 20px; background: rgba(0,0,0,0.25); border: 1px solid var(--border); border-radius: 12px; color: #fff; font-size: 1.1rem; transition: 0.3s; }
        input:focus { border-color: var(--secondary); background: rgba(0,0,0,0.4); box-shadow: 0 0 15px rgba(116, 185, 255, 0.2); outline: none; }
        .btn { padding: 15px 45px; border-radius: 50px; border: none; background: linear-gradient(135deg, var(--primary), #6c5ce7); color: #fff; font-size: 1rem; font-weight: 600; letter-spacing: 2px; cursor: pointer; transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94); box-shadow: 0 10px 20px rgba(108, 92, 231, 0.3); margin-top: 15px; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 15px 30px rgba(108, 92, 231, 0.5); filter: brightness(1.1); }
        .btn:active { transform: scale(0.95); box-shadow: 0 5px 10px rgba(108, 92, 231, 0.3); }
        
        /* è®¡æ—¶å™¨ */
        .timer-grid { display: flex; justify-content: center; gap: 15px; margin: 30px 0; }
        .time-unit { background: rgba(255,255,255,0.05); padding: 15px 20px; border-radius: 15px; min-width: 80px; }
        .time-val { font-family: 'Roboto Mono', monospace; font-size: 1.8rem; font-weight: bold; color: var(--gold); display: block; }
        .time-label { font-size: 0.7rem; opacity: 0.6; margin-top: 5px; display: block; }

        /* ç›¸é‡æ”¾å¤§è¯»ç§’ */
        .meet-layout { display: flex; flex-direction: column; gap: 10px; margin-top: 20px; }
        .meet-days { font-size: 3.5rem; color: #fff; font-weight: 300; line-height: 1; text-shadow: 0 0 30px rgba(255,255,255,0.2); }
        .seconds-container { margin-top: 10px; background: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.05); padding: 20px; border-radius: 20px; animation: breathe 2s infinite ease-in-out; }
        @keyframes breathe { 0%, 100% { box-shadow: 0 0 0 rgba(162,155,254,0); } 50% { box-shadow: 0 0 20px rgba(162,155,254,0.2); } }
        .big-seconds { font-family: 'Roboto Mono', monospace; font-size: 4rem; font-weight: 700; background: linear-gradient(to bottom, #fff, var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; line-height: 1; display: inline-block; min-width: 140px; }

        /* è®¸æ„¿çƒ */
        .wish-orb { width: 100px; height: 100px; background: radial-gradient(circle at 30% 30%, #fff, var(--primary), #6c5ce7); border-radius: 50%; margin: 40px auto; box-shadow: 0 0 30px var(--primary), inset 0 0 20px #fff; cursor: pointer; position: relative; transition: transform 0.1s; }
        .wish-orb:active { transform: scale(0.9); }
        .wish-orb.vanish { animation: orb-implode 0.4s forwards ease-in; }
        @keyframes orb-implode { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.4); opacity: 0.8; box-shadow: 0 0 80px #fff; } 100% { transform: scale(0); opacity: 0; } }
        .wish-text { opacity: 0; transform: translateY(20px); color: var(--gold); font-size: 1.2rem; transition: all 0.6s ease-out; }
        .wish-text.show { opacity: 1; transform: translateY(0); }

        /* è›‹ç³• & çƒŸèŠ± */
        .cake-stage { position: relative; height: 260px; width: 300px; margin: 50px auto 30px; }
        .layer { position: absolute; left: 50%; transform: translateX(-50%); border-radius: 50%; background: #fff; box-shadow: 0 4px 0 #d1d8e0, 0 8px 15px rgba(0,0,0,0.2); }
        .layer::before { content: ''; position: absolute; top: 50%; left: 0; width: 100%; height: 50%; background: inherit; border-radius: 50%; z-index: -1; filter: brightness(0.9); }
        .l5 { width: 260px; height: 60px; bottom: 0; background: #a29bfe; z-index: 1; }
        .l4 { width: 220px; height: 55px; bottom: 40px; background: #74b9ff; z-index: 2; }
        .l3 { width: 180px; height: 50px; bottom: 80px; background: #fd79a8; z-index: 3; }
        .l2 { width: 140px; height: 45px; bottom: 120px; background: #ffeaa7; z-index: 4; }
        .l1 { width: 100px; height: 40px; bottom: 155px; background: #ff7675; z-index: 5; }
        .candles { position: absolute; bottom: 185px; left: 50%; transform: translateX(-50%); display: flex; gap: 10px; z-index: 10; }
        .candle { width: 6px; height: 30px; background: linear-gradient(#fff, #eee); position: relative; }
        .flame { position: absolute; top: -15px; left: 50%; transform: translateX(-50%); width: 12px; height: 18px; background: radial-gradient(#ffeaa7, #ff5e57); border-radius: 50% 50% 20% 20%; animation: burn 0.5s infinite alternate; box-shadow: 0 0 15px #ff5e57; }
        .flame.off { transition: 0.3s; opacity: 0; transform: scale(0); }
        @keyframes burn { from{transform:translateX(-50%) scale(1);} to{transform:translateX(-50%) scale(1.2);} }
        #fireworks { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 99; }

        /* ä¿¡ä»¶ä¸æœ€ç»ˆé¡µ */
        .type-area { text-align: left; font-size: 1.2rem; line-height: 2; min-height: 200px; color: #f1f2f6; }
        
        /* --- æ–°å¢ï¼šæœ€ç»ˆé¡µæ ·å¼ --- */
        .final-title {
            font-size: 4.5rem; font-weight: 700; margin-bottom: 20px;
            /* æµå…‰æ¸å˜æ–‡å­— */
            background: linear-gradient(135deg, #fff 0%, var(--primary) 50%, var(--secondary) 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            letter-spacing: 8px;
            /* æ‚¬æµ®åŠ¨ç”» */
            animation: floatText 3s ease-in-out infinite alternate;
        }
        @keyframes floatText {
            from { transform: translateY(0); text-shadow: 0 0 30px rgba(162,155,254,0.4); }
            to { transform: translateY(-15px); text-shadow: 0 0 60px rgba(162,155,254,0.8); }
        }
        .final-sub { font-size: 1.5rem; color: var(--gold); letter-spacing: 4px; opacity: 0.9; }
    </style>
</head>
<body>

    <div id="universe">
        <div class="star-layer" id="stars1"></div><div class="star-layer" id="stars2"></div>
        <div id="meteors"></div>
    </div>
    <canvas id="fireworks"></canvas>

    <div id="stage-login" class="stage active">
        <div class="glass-panel">
            <div class="subtitle">Access Portal</div>
            <h2>æŸæŸæŸ Â· ä¸“å±ç©ºé—´</h2>
            <!--  å°†æŸæŸæŸä¿®æ”¹å³å¯ï¼Œåé¢çš„ä¸éœ€è¦æ”¹  -->
            <div class="input-box"><label>Name</label><input type="text" id="name" placeholder="è¯·è¾“å…¥ä½ çš„åå­—"></div>
            <div class="input-box"><label>Birthday Code</label><input type="text" id="birth" placeholder="ä¾‹å¦‚ 20010101"></div>
            <div id="err" style="color:var(--accent); height:20px; font-size:0.8rem;"></div>
            <button class="btn" onclick="check()">Unlock</button>
        </div>
    </div>
    <div id="stage-countdown" class="stage">
        <div class="glass-panel">
            <div class="subtitle">Countdown</div>
            <!--  ç”Ÿæ—¥æ•°å­—è‡ªå·±æ”¹  -->
            <h2>è·ç¦» 18 å²ç”Ÿæ—¥è¿˜æœ‰</h2>
            <div class="timer-grid">
                <div class="time-unit"><span id="cd-d" class="time-val">0</span><span class="time-label">DAYS</span></div>
                <div class="time-unit"><span id="cd-h" class="time-val">0</span><span class="time-label">HRS</span></div>
                <div class="time-unit"><span id="cd-m" class="time-val">0</span><span class="time-label">MIN</span></div>
                <div class="time-unit"><span id="cd-s" class="time-val">0</span><span class="time-label">SEC</span></div>
            </div>
            <button class="btn" onclick="next('stage-countdown', 'stage-meet')">Start Memory</button>
        </div>
    </div>
    <!--  æ—¥æœŸå’Œæ–‡å­—æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚æ”¹  -->
    <div id="stage-meet" class="stage">
        <div class="glass-panel">
            <div class="subtitle">Our Timeline</div>
            <h2>æˆ‘ä»¬åˆæ¬¡ç›¸é‡</h2>
            <p style="margin-bottom:20px; color:var(--primary);">2025.12.01</p>
            <div class="meet-layout">
                <div><span id="meet-d" class="meet-days">0000</span><div style="color:var(--primary); letter-spacing:2px;">DAYS TOGETHER</div></div>
                <div style="display:flex; justify-content:center; gap:10px; opacity:0.8; margin: 10px 0;"><span><b id="meet-h">00</b> hrs</span><span><b id="meet-m">00</b> min</span></div>
                <div class="seconds-container"><span id="meet-s" class="big-seconds">00</span><span style="font-size:1rem; color:var(--secondary); letter-spacing:3px; display:block;">Eternal Friendship</span></div>
            </div>
            <button class="btn" onclick="next('stage-meet', 'stage-wish')">Make A Wish</button>
        </div>
    </div>
   <!--  æ–‡å­—æŒ‰ç…§å–œå¥½è‡ªå·±ä¿®æ”¹  -->
    <div id="stage-wish" class="stage">
        <div class="glass-panel">
            <div class="subtitle">Wish Moment</div>
            <h2>æ˜Ÿå…‰è®¸æ„¿</h2>
            <p style="margin:20px 0; opacity:0.8;">è½»è§¦æ˜Ÿå…‰ï¼Œå¯„å‡ºå¿ƒæ„¿</p>
            <div class="wish-orb" id="orb" onclick="doWish()"></div>
            <div id="wish-msg" class="wish-text">âœ¨ å¿ƒæ„¿å·²ç”±æµæ˜Ÿæ¥æ”¶ âœ¨</div>
            <button id="btn-cake" class="btn" style="opacity:0; pointer-events:none; transition:0.5s;" onclick="next('stage-wish', 'stage-cake')">Celebrate</button>
        </div>
    </div>

    <div id="stage-cake" class="stage">
        <div class="glass-panel">
            <h2 style="color:var(--gold);">Happy Birthday</h2>
            <div class="cake-stage">
                <div class="candles"><div class="candle"><div class="flame"></div></div><div class="candle"><div class="flame"></div></div><div class="candle"><div class="flame"></div></div><div class="candle"><div class="flame"></div></div><div class="candle"><div class="flame"></div></div></div>
                <div class="layer l1"></div><div class="layer l2"></div><div class="layer l3"></div><div class="layer l4"></div><div class="layer l5"></div>
            </div>
            <button id="blow-btn" class="btn" style="background: linear-gradient(135deg, #ff9f43, #ff6b6b);" onclick="blow()">ğŸŒ¬ï¸ å¹ç­èœ¡çƒ›</button>
        </div>
    </div>

    <div id="stage-letter" class="stage">
        <div class="glass-panel">
            <div class="type-area" id="letter-box"></div>
            <!--  å°†åå­—æ›¿æ¢æˆè‡ªå·±çš„  -->
            <div style="text-align:right; margin-top:20px; font-size:0.9rem; color:#aaa;">From è¿™é‡Œæ¢æˆè‡ªå·±åå­—</div>
            <button id="btn-final" class="btn" style="opacity:0; pointer-events:none; margin-top:40px;" onclick="next('stage-letter', 'stage-final')">æœ€åçš„ç¥ç¦</button>
        </div>
    </div>

    <div id="stage-final" class="stage">
        <div class="glass-panel" style="padding: 80px 40px; max-width: 700px;">
            <div class="final-title">æŸæŸæŸ</div>
            <h2 style="font-size: 3.5rem; color: var(--gold); margin: 20px 0;">ç”Ÿæ—¥å¿«ä¹</h2>
            <p class="final-sub">ä»Šæ—¥ä½ æ˜¯ä¸»è§’</p>
        </div>
    </div>

    <script>
        //ä¸‹é¢è¿™ä¸ª  æŸæŸæŸ  æ›¿æ¢æˆç”Ÿæ—¥å¯¹è±¡çš„åå­—ï¼Œ20010101æ›¿æ¢æˆç”Ÿæ—¥å¯¹è±¡çš„ç”Ÿæ—¥æ—¥æœŸï¼Œæ ¼å¼ä¸å˜ï¼Œå°†ä½œä¸ºè´¦å·å’Œå¯†ç æˆä¸ºç™»å½•é¡µè¿›å…¥çš„æ­£ç¡®é€”å¾„ã€‚æ—¥æœŸæŒ‰ç…§ç”Ÿæ—¥å¯¹è±¡çš„å¡«å†™
        const CFG = { name: "æŸæŸæŸ", birth: "20071230", meet: new Date("2025-12-01T00:00:00"), next: new Date("2025-12-30T00:00:00"),
        txt: "è¿™é‡Œå¡«å†™è‡ªå·±ç›¸å¯¹å¥¹/ä»–è¯´çš„è¯ï¼Œ\næƒ³è¯´å•¥è¯´å•¥ã€‚" };

        // 1. æ˜Ÿç©º
        function initStars() {
            const l1 = document.getElementById('stars1'); const l2 = document.getElementById('stars2');
            for(let i=0; i<80; i++) { const s=document.createElement('div'); s.className='star'; s.style.width=Math.random()*2+'px'; s.style.height=s.style.width; s.style.left=Math.random()*100+'%'; s.style.top=Math.random()*100+'%'; s.style.animationDelay=Math.random()*2+'s'; s.style.setProperty('--duration', Math.random()*2+2+'s'); l1.appendChild(s); }
            for(let i=0; i<150; i++) { const s=document.createElement('div'); s.className='star'; s.style.width=Math.random()*1.5+'px'; s.style.height=s.style.width; s.style.left=Math.random()*100+'%'; s.style.top=Math.random()*100+'%'; l2.appendChild(s); }
            setInterval(() => { const m=document.createElement('div'); m.className='shooting-star'; m.style.left=Math.random()*100+'%'; m.style.top=Math.random()*50+'%'; document.getElementById('meteors').appendChild(m); setTimeout(()=>m.remove(), 3000); }, 1500);
            document.addEventListener('mousemove', e => { const x=(e.clientX/window.innerWidth-0.5)*20; const y=(e.clientY/window.innerHeight-0.5)*20; l1.style.transform=`translate(${x}px,${y}px)`; l2.style.transform=`translate(${x*0.5}px,${y*0.5}px)`; });
        }
        initStars();

        // 2. è½¬åœº
        function next(curr, dest) {
            const c = document.getElementById(curr); const d = document.getElementById(dest);
            c.style.opacity=0; c.style.transform='scale(1.2)'; c.style.filter='blur(20px)'; c.style.pointerEvents='none';
            setTimeout(() => {
                c.classList.remove('active'); d.classList.add('active');
                d.style.opacity=0; d.style.transform='scale(0.9)'; d.style.filter='blur(20px)';
                requestAnimationFrame(() => { d.style.opacity=1; d.style.transform='scale(1)'; d.style.filter='blur(0)'; });
                if(dest==='stage-letter') typeWriter();
            }, 600);
        }

        // 3. ä¸šåŠ¡
        function check() {
            if(document.getElementById('name').value === CFG.name && document.getElementById('birth').value === CFG.birth) { next('stage-login', 'stage-countdown'); startT(); }
            else { const p=document.querySelector('#stage-login .glass-panel'); p.animate([{transform:'translateX(0)'},{transform:'translateX(10px)'},{transform:'translateX(-10px)'},{transform:'translateX(0)'}],{duration:300}); document.getElementById('err').innerText="æ˜Ÿé—¨å¯†ç é”™è¯¯"; }
        }

        function startT() {
            setInterval(() => {
                const diff=CFG.next-new Date();
                if(diff>0) { document.getElementById('cd-d').innerText=Math.floor(diff/86400000); document.getElementById('cd-h').innerText=Math.floor((diff%86400000)/3600000); document.getElementById('cd-m').innerText=Math.floor((diff%3600000)/60000); document.getElementById('cd-s').innerText=Math.floor((diff%60000)/1000); }
                const mDiff=new Date()-CFG.meet;
                document.getElementById('meet-d').innerText=Math.floor(mDiff/86400000); document.getElementById('meet-h').innerText=Math.floor((mDiff%86400000)/3600000); document.getElementById('meet-m').innerText=Math.floor((mDiff%3600000)/60000); document.getElementById('meet-s').innerText=Math.floor((mDiff%60000)/1000);
            }, 1000);
        }

        function doWish() {
            document.getElementById('orb').classList.add('vanish');
            setTimeout(() => { document.getElementById('wish-msg').classList.add('show'); document.getElementById('btn-cake').style.opacity=1; document.getElementById('btn-cake').style.pointerEvents='all'; }, 400);
        }

        function blow() {
            document.querySelectorAll('.flame').forEach(f=>f.classList.add('off')); document.getElementById('blow-btn').style.display='none'; fireworks(); setTimeout(()=>next('stage-cake','stage-letter'),3000);
        }

        // æ›´æ–°åçš„æ‰“å­—æœºï¼šç»“æŸåæ˜¾ç¤ºé€šå¾€æœ€ç»ˆé¡µçš„æŒ‰é’®
        function typeWriter() {
            let i=0; const box=document.getElementById('letter-box');
            const timer = setInterval(() => {
                if(i < CFG.txt.length) { box.innerHTML += CFG.txt.charAt(i)==='\n'?'<br>':CFG.txt.charAt(i); i++; }
                else {
                    clearInterval(timer);
                    // æ˜¾ç¤ºæœ€ç»ˆæŒ‰é’®
                    const btn = document.getElementById('btn-final'); btn.style.opacity=1; btn.style.pointerEvents='all';
                }
            }, 100);
        }

        // çƒŸèŠ±
        function fireworks() {
            const c=document.getElementById('fireworks'); const ctx=c.getContext('2d'); c.width=window.innerWidth; c.height=window.innerHeight; let p=[];
            function create(x,y) { for(let i=0;i<60;i++) p.push({x:x,y:y,vx:(Math.random()-0.5)*10,vy:(Math.random()-0.5)*10,c:`hsl(${Math.random()*360},100%,50%)`,a:1}); }
            const launch=setInterval(()=>create(Math.random()*c.width,Math.random()*c.height/2),300); setTimeout(()=>clearInterval(launch),2500);
            function loop() { ctx.globalCompositeOperation='destination-out'; ctx.fillStyle='rgba(0,0,0,0.1)'; ctx.fillRect(0,0,c.width,c.height); ctx.globalCompositeOperation='lighter';
            p.forEach((pt,i)=>{ pt.x+=pt.vx; pt.y+=pt.vy; pt.vy+=0.05; pt.a-=0.015; ctx.fillStyle=pt.c; ctx.globalAlpha=pt.a; ctx.beginPath(); ctx.arc(pt.x,pt.y,2,0,Math.PI*2); ctx.fill(); if(pt.a<=0) p.splice(i,1); }); requestAnimationFrame(loop); } loop();
        }
    </script>
</body>
</html>